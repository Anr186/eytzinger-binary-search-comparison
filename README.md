# Ð¡Ñ€Ð°Ð²Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð· ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¾Ð² Ð¿Ð¾Ð¸ÑÐºÐ° Ð² Ð½ÐµÐ¿Ñ€ÐµÑ€Ñ‹Ð²Ð½Ð¾ Ñ€Ð°Ð·Ð¼ÐµÑ‰ÐµÐ½Ð½Ñ‹Ñ… Ð² Ð¿Ð°Ð¼ÑÑ‚Ð¸ Ð¼Ð°ÑÑÐ¸Ð²Ð°Ñ…  

**Ð¢ÐµÑ€ÐµÐ½Ñ‚ÑŒÐµÐ² Ð.Ð’.**, **ÐšÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾Ð² Ðš.Ðš.**  
*Ð”Ð¾ÐºÐ»Ð°Ð´ Ð½Ð° Ð²ÑÐµÑ€Ð¾ÑÑÐ¸Ð¹ÑÐºÐ¾Ð¹ Ð½Ð°ÑƒÑ‡Ð½Ð¾-Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ ÐºÐ¾Ð½Ñ„ÐµÑ€ÐµÐ½Ñ†Ð¸Ð¸ "ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð¸ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ (ÐžÐ˜Ð¸ÐœÐœ-2025)", ÐÐ¾Ð²Ð¾ÑÐ¸Ð±Ð¸Ñ€ÑÐº, 2025.* 
*Ð¡Ð¸Ð±Ð¸Ñ€ÑÐºÐ¸Ð¹ Ð³Ð¾ÑÑƒÐ´Ð°Ñ€ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ¸Ñ‚ÐµÑ‚ Ñ‚ÐµÐ»ÐµÐºÐ¾Ð¼Ð¼ÑƒÐ½Ð¸ÐºÐ°Ñ†Ð¸Ð¹ Ð¸ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸ÐºÐ¸*   
## ðŸŒŸ ÐÐ½Ð½Ð¾Ñ‚Ð°Ñ†Ð¸Ñ
Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½ ÑÑ€Ð°Ð²Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð· Ð´Ð²ÑƒÑ… Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¾Ð² Ðº Ð¿Ð¾Ð¸ÑÐºÑƒ Ð·Ð°Ð´Ð°Ð½Ð½Ð¾Ð³Ð¾ ÐºÐ»ÑŽÑ‡Ð° Ð² Ð½ÐµÐ¿Ñ€ÐµÑ€Ñ‹Ð²Ð½Ð¾ Ñ€Ð°Ð·Ð¼ÐµÑ‰ÐµÐ½Ð½Ð¾Ð¹ Ð² Ð¿Ð°Ð¼ÑÑ‚Ð¸ Ð¿Ð¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð². Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð° Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¾Ð² Ð´Ð²Ð¾Ð¸Ñ‡Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð¸ÑÐºÐ° Ð¸ Ð¿Ð¾Ð¸ÑÐºÐ° Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð¼ Eytzinger. Ð¡Ð¾Ð·Ð´Ð°Ð½Ñ‹ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð²ÐµÑ€ÑÐ¸Ð¸ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¾Ð² Ñ ÑƒÑ‡ÐµÑ‚Ð¾Ð¼ Ð¼Ð¸ÐºÑ€Ð¾Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð½Ñ‹Ñ… Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚ÐµÐ¹ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ñ€Ð¾Ð² x86-64 Ð¸ RISC-V: ÑƒÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ ÑƒÑÐ»Ð¾Ð²Ð½Ñ‹Ñ… Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¾Ð², Ð¿Ñ€ÐµÐ´Ð²Ñ‹Ð±Ð¾Ñ€ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² ÐºÑÑˆ-Ð¿Ð°Ð¼ÑÑ‚ÑŒ. Ð­ÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ð¾Ðµ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ð°Ñ… x86-64 (Xeon Gold) Ð¸ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ñ€Ðµ Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð¾Ð¹ RISC-V RV64GCVB (SpacemiT X60) Ð¿Ð¾ÐºÐ°Ð·Ð°Ð»Ð¾, Ñ‡Ñ‚Ð¾ Ð²ÐµÑ€ÑÐ¸Ð¸ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¾Ð² Ð±ÐµÐ· ÑƒÑÐ»Ð¾Ð²Ð½Ñ‹Ñ… Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¾Ð² Ð½Ð° ÑÑ‚Ð¸Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ñ… ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½ÐµÐµ Ð² 1.5â€”1.75 Ñ€Ð°Ð·Ð° Ð¿Ð¾ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸ÑŽ Ñ ÐºÐ»Ð°ÑÑÐ¸Ñ‡ÐµÑÐºÐ¸Ð¼ Ð´Ð²Ð¾Ð¸Ñ‡Ð½Ñ‹Ð¼ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð¼. Ð”Ð»Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ñ… Ð¼Ð°ÑÑÐ¸Ð²Ð¾Ð², ÐºÐ¾Ð³Ð´Ð° Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð²Ñ‹Ñ…Ð¾Ð´ÑÑ‚ Ð·Ð° Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‹ ÐºÑÑˆÐ° L2/L3, Ð¿Ð¾Ð¸ÑÐº Ð² Ð¼Ð°ÑÑÐ¸Ð²Ðµ, Ð³Ð´Ðµ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ñ€Ð°Ð·Ð¼ÐµÑ‰ÐµÐ½Ñ‹ Ð¿Ð¾ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñƒ Eytzinger, Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½ÐµÐµ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ñ… Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¹.

--- 

## ðŸ“Œ ÐÐ²Ñ‚Ð¾Ñ€Ñ‹
- **Ð¢ÐµÑ€ÐµÐ½Ñ‚ÑŒÐµÐ² ÐÐ½Ð´Ñ€ÐµÐ¹ Ð’Ð¸ÐºÑ‚Ð¾Ñ€Ð¾Ð²Ð¸Ñ‡** (andrey.terent1ev@mail.ru)
- **ÐšÐ¾Ñ€Ð¾Ñ‚ÐºÐ¾Ð² ÐšÐ¸Ñ€Ð¸Ð»Ð» ÐšÐ¾Ð½ÑÑ‚Ð°Ð½Ñ‚Ð¸Ð½Ð¾Ð²Ð¸Ñ‡** (karton1228@gmail.com)  
*ÐÐ°ÑƒÑ‡Ð½Ñ‹Ð¹ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒ: Ð´.Ñ‚.Ð½. Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¾Ñ€ ÐšÑƒÑ€Ð½Ð¾ÑÐ¾Ð² Ðœ.Ð“.*

---

## ðŸ” Ð¦ÐµÐ»ÑŒ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ
Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¾Ð² Ð¿Ð¾Ð¸ÑÐºÐ°:
- **ÐšÐ»Ð°ÑÑÐ¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð´Ð²Ð¾Ð¸Ñ‡Ð½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº** (BS/BL/Prefetch)
- **ÐŸÐ¾Ð¸ÑÐº Eytzinger** (Eyt/EytBL)  
Ð½Ð° Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°Ñ… **x86-64 (Xeon Gold)** Ð¸ **RISC-V (SpacemiT K1)**.

---

## ðŸ“Š ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
### 1. Ð­Ñ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¾Ð²
| ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼       | Ð£ÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ (L1/L2) | ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°                          |
|----------------|-------------------|---------------------------------------|
| Branchless (BL)| x1.5â€“1.75         | Ð£ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ ÑƒÑÐ»Ð¾Ð²Ð½Ñ‹Ñ… Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¾Ð²         |
| Eytzinger      | x1.75â€“2           | Ð›ÑƒÑ‡ÑˆÐ°Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² ÐºÑÑˆÐµ L3   |

### Ð“Ñ€Ð°Ñ„Ð¸ÐºÐ¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ
![] (img/1.png)
![] (img/2.png)
![] (img/3.png)
![] (img/4.png)

*Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¿Ð¾Ð¸ÑÐºÐ° Ð¾Ñ‚ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° Ð¼Ð°ÑÑÐ¸Ð²Ð°*
### 2. Ð’Ð»Ð¸ÑÐ½Ð¸Ðµ ÐºÑÑˆ-Ð¿Ð°Ð¼ÑÑ‚Ð¸
- **L1/L2**: Branchless-Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð´Ð°ÑŽÑ‚ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÑ„Ñ„ÐµÐºÑ‚.
- **L3+**: Eytzinger-Ñ€Ð°Ð·Ð¼ÐµÑ‰ÐµÐ½Ð¸Ðµ ÑÐ¾ÐºÑ€Ð°Ñ‰Ð°ÐµÑ‚ Ð¿Ñ€Ð¾Ð¼Ð°Ñ…Ð¸ ÐºÑÑˆÐ°.  
- **RISC-V**: ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ L3 ÐºÑÑˆÐ° ÑÐ½Ð¸Ð¶Ð°ÐµÑ‚ Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð¾ Eytzinger.

---

## ðŸ›  Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð´ÐµÑ‚Ð°Ð»Ð¸
### Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñ‹
```cpp
// ÐŸÑ€Ð¸Ð¼ÐµÑ€ branchless-Ð¿Ð¾Ð¸ÑÐºÐ°
IdxType branchfree_search(ElemType x) const {
    const ElemType *base = a; 
    IdxType n = this->n;
    while (n > 1) {
        const IdxType half = n / 2;
        base = (base[half] < x) ? &base[half] : base;
        n -= half;
    }
    return (*base < x) + base - a;
}
// ÐŸÑ€Ð¸Ð¼ÐµÑ€ branchless-Ð¿Ð¾Ð¸ÑÐºÐ° Ñ ÑÐ²Ð½Ð¾Ð¹ Ð¿Ñ€ÐµÐ´Ð²Ñ‹Ð±Ð¾Ñ€ÐºÐ¾Ð¹
IdxType branchfree_pref_search(ElemType x) const {
    const ElemType *base = a; IdxType n = this->n;
    while (n > 1) {
      const IdxType half = n / 2;
      builtin_prefetch(&base[half/2]);
      builtin_prefetch(&base[half + half/2]);
      base = (base[half] < x)? &base[half]: base;
      n -= half;
    }
    return (*base < x) + base - a;
}

// ÐŸÑ€Ð¸Ð¼ÐµÑ€ branchless Eytzinger-Ð¿Ð¾Ð¸ÑÐºÐ°
IdxType eytz_branchless_search(ElemType x) const {
    IdxType i = 0;
    while (i < n) {
      i = (x <= a[i]) ? (2*i + 1) : (2*i + 2);
    }    
    IdxType j = (i+1) >> __builtin_ffs(~(i+1));
    return (j == 0) ? n : j-1;
}
```